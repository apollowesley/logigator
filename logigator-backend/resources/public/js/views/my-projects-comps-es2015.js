"use strict";function projectComponentList(){const t=document.querySelector(".view-my-projects-comps__popup-container"),e=document.querySelector(".view-my-projects-comps__list"),o=document.querySelectorAll(".view-my-projects-comps__page-button"),c=[0,0,0,0,0,0,0];let n,i;function a(){const t=document.querySelector(".partial-project-comp-list"),e=Number(Bem.data(t,"total-pages"));let n,a;i=Number(Bem.data(t,"current-page")),c[0]=i>0?0:void 0,c[1]=i>0?i-1:void 0,c[2]=void 0,c[3]=void 0,c[4]=void 0,0===i?(n=0,a=e>3?3:e-1):i===e-1?(n=Math.max(e-3,0),a=e-1):(n=i-1,a=i+1);for(let t=n,e=2;t<=a;t++,e++)c[e]=t;c[5]=i<e-1?i+1:void 0,c[6]=i<e-1?e-1:void 0,o.forEach((t,e)=>{e<=1||e>=5?t.disabled=void 0===c[e]:(Bem.setState(t,"hidden",void 0===c[e]),Bem.setState(t,"active",c[e]===i),t.innerHTML=c[e]+1)})}async function r(t,o){const c={page:t};void 0!==o&&""!==o&&(c.search=o);const n=new URLSearchParams(c).toString(),i=await fetch("/my/projects/page?"+n);e.innerHTML=await i.text();const r=[location.protocol,"//",location.host,location.pathname].join("");window.history.pushState({},"",r+"?"+n),a(),s()}function s(){e.querySelectorAll(".partial-project-comp-list__icon-info").forEach(e=>{e.addEventListener("click",()=>{const o=e.parentElement.getAttribute("data-id");openDynamicPopup("/my/projects/info/".concat(o),t)})})}a(),o.forEach((t,e)=>{t.addEventListener("click",()=>{void 0===c[e]||Bem.hasState(t,"active")||r(c[e],n)})}),function(){const t=document.getElementById("view-my-projects-comps__search"),e=debounceFunction(()=>{n=t.value,r(0,n)},400);t.addEventListener("input",e)}(),s()}projectComponentList();
//# sourceMappingURL=my-projects-comps-es2015.js.map
