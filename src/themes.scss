$themes: (
	light: (
		primary-text: black,
		secondary-text: black,
		toolbar: #2ECC71,
		construction-box-background: #F5F5F5,
		tab-active: #2ECC71,
		tab-inactive: #979797,
		boxes-background: #F5F5F5,
		search-background: #979797,
		component-select-hover: #979797,
		component-active: #2ECC71,
		scrollbar: #979797,
		top-bar-divider: #979797
	),
	dark: (
		primary-text: black,
		secondary-text: #efefef,
		toolbar: #27AE60,
		construction-box-background: #2B2B2B,
		tab-active: #27AE60,
		tab-inactive: #5D5D5D,
		boxes-background: #2B2B2B,
		search-background: #5D5D5D,
		component-select-hover: #5D5D5D,
		component-active: #27AE60,
		scrollbar: #5D5D5D,
		top-bar-divider: #5D5D5D
	)
);

@mixin themify() {
	@each $theme, $map in $themes {

		$themeForTestFunction: $theme !global;

		:host-context(.theme-#{$theme}) & {
			$theme-map: () !global;
			@each $key, $submap in $map {
				$theme-map: map-merge($theme-map, ($key: $submap)) !global;
			}

			@content;
			$theme-map: null !global;
			$themeForTestFunction: null !global;
		}

	}
}

@function themed($key) {
	@return map-get($theme-map, $key);
}

@function isTheme($theme) {
	@return $themeForTestFunction == $theme;
}

@mixin scrollbar($width) {
	&::-webkit-scrollbar-track
	{
		@include themify() {
			background-color: themed('construction-box-background');
		}
	}

	&::-webkit-scrollbar
	{
		width: $width;
	}

	&::-webkit-scrollbar-thumb
	{
		border-radius: 2px;
		@include themify() {
			background-color: themed('scrollbar');
		}
	}
}
